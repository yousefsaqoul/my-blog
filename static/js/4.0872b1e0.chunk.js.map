{"version":3,"sources":["views/addPost.js"],"names":["AddPost","props","useState","touched","isValid","errMassege","titleValid","setTitleValid","bodyValid","setBodyValid","isLoading","setIsLoading","errMsgFromServer","setErrMsgFromServer","addPostHandler","event","a","preventDefault","title","target","value","trim","body","sendPost","history","replace","post","Promise","resolve","reject","setTimeout","md","lg","className","onSubmit","Group","controlId","Label","Control","type","placeholder","name","onBlur","val","valids","length","split","console","log","as","rows","variant"],"mappings":"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","file":"static/js/4.0872b1e0.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport { Container, Row, Col, Form, Button } from 'react-bootstrap'\nconst AddPost = (props) => {\n    // const [redirect, setRedirect] = useState(false)\n\n\n    const [titleValid, setTitleValid] = useState({\n        touched: false,\n        isValid: false,\n        errMassege: \"\",\n    });\n\n    const [bodyValid, setBodyValid] = useState({\n        touched: false,\n        isValid: false,\n        errMassege: \"\",\n    });\n\n    // ----------------------- nach clicken auf submit zeigt nachricht LOADING \n    const [isLoading, setIsLoading] = useState()\n\n    const [errMsgFromServer, setErrMsgFromServer] = useState(false)\n\n    // ---------------------------------Submit Function --------------------------------\n    const addPostHandler = async (event) => {\n        // setRedirect(true)\n        // props.history.replace(\"/blog\");\n        // console.log(props)\n        event.preventDefault()\n        let title = event.target.title.value.trim()\n        let body = event.target.body.value.trim()\n        setIsLoading(true)\n        if (titleValid.isValid && bodyValid.isValid) {\n            const res = await sendPost({ title, body })\n            if (res) {\n                props.history.replace(\"/blog\");\n            } else {\n                setErrMsgFromServer(true)\n            }\n\n        }\n        setIsLoading(false)\n    }\n\n    // ------------------ diese function stat server -------------------\n    const sendPost = (post) => {\n        return new Promise((resolve, reject) => {\n            setTimeout(() => {\n                resolve(post)\n            }, 2000)\n        });\n    }\n    // --------------------------------logic title --------------------------------\n    const checkTitleValidation = (event) => {\n        let val = event.target.value.trim()\n        let valids = { ...titleValid }\n        valids.touched = true;\n        if (val.length <= 0) {\n            valids.isValid = false;\n            valids.errMassege = \"fühlen Sie bitte der Titel aus\"\n\n        } else if (val.split(\" \").length < 3) {\n            valids.isValid = false;\n            valids.errMassege = \"der Titel ist kurz\"\n\n        } else if (val.split(\" \").length > 10) {\n            valids.isValid = false;\n            valids.errMassege = \"der Titel ist lang als 10 worte\"\n\n        } else {\n            valids.isValid = true;\n            valids.errMassege = \"\"\n        }\n\n        setTitleValid({ ...valids })\n        console.log(valids);\n    }\n\n    // -----------------------------logic Body ----------------------------\n\n    const checkBodyValidation = (event) => {\n        let val = event.target.value.trim()\n        let valids = { ...bodyValid }\n        valids.touched = true;\n        if (val.length <= 0) {\n            valids.isValid = false;\n            valids.errMassege = \"fühlen Sie bitte der Description aus\"\n\n        } else if (val.split(\" \").length < 10) {\n            valids.isValid = false;\n            valids.errMassege = \"der Description ist kurz\"\n\n        } else if (val.split(\" \").length > 500) {\n            valids.isValid = false;\n            valids.errMassege = \"der Description ist lang als 500 worte\"\n\n        } else {\n            valids.isValid = true;\n            valids.errMassege = \"\"\n        }\n\n        setBodyValid({ ...valids })\n        console.log(valids);\n    }\n\n\n    // ------------------------------return ------------------------------\n    return (\n        <Container >\n            <Row >\n                <Col md={6} lg={4} className=\"mx-auto card my-5 bg-light shadow-sm \">\n                    <h2 className=\"text-center h4 mb-3 text-secondary p-3\">\n                        addPost\n                        {errMsgFromServer ? 'deine Discraption oder Title ist falsch ' : null}\n                    </h2>\n                    <Form onSubmit={addPostHandler}>\n                        <Form.Group controlId=\"exampleForm.ControlInput1\">\n                            <Form.Label>Post Title</Form.Label>\n                            <Form.Control\n                                type=\"text\" placeholder=\"post title\"\n                                name=\"title\" onBlur={checkTitleValidation}\n                                className={titleValid.touched && titleValid.isValid ? \"border-success\" : titleValid.touched && !titleValid.isValid ? \"border-danger\" : \"\"}\n                            />\n                            {titleValid.errMassege ? (<small className=\"text-danger p-1\">{titleValid.errMassege}</small>) : (\"\")}\n                        </Form.Group>\n\n\n                        <Form.Group controlId=\"exampleForm.ControlTextarea1\">\n                            <Form.Label>Text Description</Form.Label>\n                            <Form.Control as=\"textarea\" rows={3} name=\"body\"\n                                onBlur={checkBodyValidation}\n                                className={bodyValid.touched && bodyValid.isValid ? \"border-success\" : bodyValid.touched && !bodyValid.isValid ? \"border-danger\" : \"\"}\n                            />\n                            {bodyValid.errMassege ? (<small className=\"text-danger p-1\">{bodyValid.errMassege}</small>) : (\"\")}\n\n                        </Form.Group>\n                        <Button variant=\"primary\" type=\"submit\" className=\"w-100 mb-3\">\n                            {!isLoading ? \"Add New Post\" : \"Loading...\"}\n                        </Button>\n                    </Form>\n                </Col>\n            </Row>\n\n\n\n        </Container>\n    )\n}\n\nexport default AddPost\n\n"],"sourceRoot":""}